<!doctype html><html xmlns=http://www.w3.org/1999/xhtml lang=en-US><meta http-equiv=Content-Type content="text/xhtml;charset=utf-8"><meta http-equiv=X-UA-Compatible content="IE=11"><meta name=generator content="Doxygen 1.9.8"><meta name=viewport content="width=device-width,initial-scale=1"><title>Passive-source Seismic-processing (PsSp): pssp::ConsoleSink&lt; Mutex > Class Template Reference</title>
<link href=tabs.css rel=stylesheet><script src=jquery.js></script><script src=dynsections.js></script><link href=navtree.css rel=stylesheet><script src=resize.js></script><script src=navtreedata.js></script><script src=navtree.js></script><link href=search/search.css rel=stylesheet><script src=search/searchdata.js></script><script src=search/search.js></script><link href=doxygen.css rel=stylesheet><link href=doxygen-awesome.css rel=stylesheet><div id=top><div id=titlearea><table cellspacing=0 cellpadding=0><tbody><tr id=projectrow><td id=projectalign><div id=projectname>Passive-source Seismic-processing (PsSp)<span id=projectnumber>&#160;0.1.0</span></div><div id=projectbrief>C++20 Seismic Processing Software</div></table></div><script>var searchBox=new SearchBox("searchBox","search/",".html")</script><script src=menudata.js></script><script src=menu.js></script><script>$(function(){initMenu("",!0,!1,"search.php","Search"),$(document).ready(function(){init_search()})})</script><div id=main-nav></div></div><div id=side-nav class="ui-resizable side-nav-resizable"><div id=nav-tree><div id=nav-tree-contents><div id=nav-sync class=sync></div></div></div><div id=splitbar style=-moz-user-select:none class=ui-resizable-handle></div></div><script>$(document).ready(function(){initNavTree("classpssp_1_1ConsoleSink.html",""),initResizable()})</script><div id=doc-content><div id=MSearchSelectWindow onmouseover="return searchBox.OnSearchSelectShow()" onmouseout="return searchBox.OnSearchSelectHide()" onkeydown="return searchBox.OnSearchSelectKey(event)"></div><div id=MSearchResultsWindow><div id=MSearchResults><div class=SRPage><div id=SRIndex><div id=SRResults></div><div class=SRStatus id=Loading>Loading...</div><div class=SRStatus id=Searching>Searching...</div><div class=SRStatus id=NoMatches>No Matches</div></div></div></div></div><div class=header><div class=summary><a href=#pub-methods>Public Member Functions</a> |
<a href=#pro-methods>Protected Member Functions</a> |
<a href=#pri-attribs>Private Attributes</a> |
<a href=classpssp_1_1ConsoleSink-members.html>List of all members</a></div><div class=headertitle><div class=title>pssp::ConsoleSink&lt; Mutex > Class Template Reference</div></div></div><div class=contents><p>Sink (receiver) of log messages for PsSp console.
<a href=classpssp_1_1ConsoleSink.html#details>More...</a><p><code>#include &lt;ConsoleSink.hpp></code><div class=dynheader>Inheritance diagram for pssp::ConsoleSink&lt; Mutex >:</div><div class=dyncontent><div class=center><img src=classpssp_1_1ConsoleSink__inherit__graph.png border=0 usemap=#apssp_1_1ConsoleSink_3_01Mutex_01_4_inherit__map alt="Inheritance graph"></div><map name=apssp_1_1ConsoleSink_3_01Mutex_01_4_inherit__map id=apssp_1_1ConsoleSink_3_01Mutex_01_4_inherit__map><area title="Sink (receiver) of log messages for PsSp console." alt coords=5,140,192,321><area title=" " alt coords=30,5,167,92><area shape=poly title=" " alt coords=101,106,101,140,96,140,96,106></map></div><div class=dynheader>Collaboration diagram for pssp::ConsoleSink&lt; Mutex >:</div><div class=dyncontent><div class=center><img src=classpssp_1_1ConsoleSink__coll__graph.png border=0 usemap=#apssp_1_1ConsoleSink_3_01Mutex_01_4_coll__map alt="Collaboration graph"></div><map name=apssp_1_1ConsoleSink_3_01Mutex_01_4_coll__map id=apssp_1_1ConsoleSink_3_01Mutex_01_4_coll__map><area title="Sink (receiver) of log messages for PsSp console." alt coords=5,140,192,321><area title=" " alt coords=30,5,167,92><area shape=poly title=" " alt coords=101,106,101,140,96,140,96,106></map></div><table class=memberdecls><tr class=heading><td colspan=2><h2 class=groupheader><a id=pub-methods></a>Public Member Functions</h2><tr class=memitem:aa726dae3c83e4c5f263efb0cd938fd55 id=r_aa726dae3c83e4c5f263efb0cd938fd55><td class=memItemLeft align=right valign=top>&#160;<td class=memItemRight valign=bottom><a class=el href=classpssp_1_1ConsoleSink.html#aa726dae3c83e4c5f263efb0cd938fd55>ConsoleSink</a> (Fl_Terminal *tty)<tr class=memdesc:aa726dae3c83e4c5f263efb0cd938fd55><td class=mdescLeft>&#160;<td class=mdescRight>Default constructor.<br><tr class=separator:aa726dae3c83e4c5f263efb0cd938fd55><td class=memSeparator colspan=2>&#160;</table><table class=memberdecls><tr class=heading><td colspan=2><h2 class=groupheader><a id=pro-methods></a>Protected Member Functions</h2><tr class=memitem:a6e6a9fb611cb0a7a499c1c7152612a68 id=r_a6e6a9fb611cb0a7a499c1c7152612a68><td class=memItemLeft align=right valign=top>void&#160;<td class=memItemRight valign=bottom><a class=el href=classpssp_1_1ConsoleSink.html#a6e6a9fb611cb0a7a499c1c7152612a68>sink_it_</a> (const spdlog::details::log_msg &amp;msg) override<tr class=memdesc:a6e6a9fb611cb0a7a499c1c7152612a68><td class=mdescLeft>&#160;<td class=mdescRight>Receives message from spdlog and then passes message to display console.<br><tr class=separator:a6e6a9fb611cb0a7a499c1c7152612a68><td class=memSeparator colspan=2>&#160;<tr class=memitem:af573151af0092823afdaf93468e4dc22 id=r_af573151af0092823afdaf93468e4dc22><td class=memItemLeft align=right valign=top>void&#160;<td class=memItemRight valign=bottom><a class=el href=classpssp_1_1ConsoleSink.html#af573151af0092823afdaf93468e4dc22>flush_</a> () override<tr class=memdesc:af573151af0092823afdaf93468e4dc22><td class=mdescLeft>&#160;<td class=mdescRight>Clear (flush) Fl_Terminal.<br><tr class=separator:af573151af0092823afdaf93468e4dc22><td class=memSeparator colspan=2>&#160;</table><table class=memberdecls><tr class=heading><td colspan=2><h2 class=groupheader><a id=pri-attribs></a>Private Attributes</h2><tr class=memitem:a1009d4d5b9978950582c26bad811aa1b id=r_a1009d4d5b9978950582c26bad811aa1b><td class=memItemLeft align=right valign=top>Fl_Terminal *&#160;<td class=memItemRight valign=bottom><a class=el href=classpssp_1_1ConsoleSink.html#a1009d4d5b9978950582c26bad811aa1b>tty_</a> {}<tr class=memdesc:a1009d4d5b9978950582c26bad811aa1b><td class=mdescLeft>&#160;<td class=mdescRight>Message receiver (console/terminal/tty).<br><tr class=separator:a1009d4d5b9978950582c26bad811aa1b><td class=memSeparator colspan=2>&#160;</table><a id=details></a><h2 class=groupheader>Detailed Description</h2><div class=textblock><div class=compoundTemplParams>template&lt;typename Mutex><br>class pssp::ConsoleSink&lt; Mutex ></div><p>Sink (receiver) of log messages for PsSp console.<p>This class receiver logs from spdlog and passes them on to a FLTK terminal (FL_Terminal) object for presentation.<dl class=todo><dt><b><a class=el href=todo.html#_todo000002>Todo:</a></b><dd>At present it doesn't do log formatting (formatting is handled with console codes in the logs themselves). Formatting should be moved to here in the future for generality.</dl></div><h2 class=groupheader>Constructor & Destructor Documentation</h2><a id=aa726dae3c83e4c5f263efb0cd938fd55></a><h2 class=memtitle><span class=permalink><a href=#aa726dae3c83e4c5f263efb0cd938fd55>&#9670;&#160;</a></span>ConsoleSink()</h2><div class=memitem><div class=memproto><div class=memtemplate>template&lt;typename Mutex ></div><table class=mlabels><tr><td class=mlabels-left><table class=memname><tr><td class=memname><a class=el href=classpssp_1_1ConsoleSink.html>pssp::ConsoleSink</a>&lt; Mutex >::ConsoleSink<td>(<td class=paramtype>Fl_Terminal *&#160;<td class=paramname><em>tty</em><td>)<td></table><td class=mlabels-right><span class=mlabels><span class=mlabel>inline</span><span class=mlabel>explicit</span></span></table></div><div class=memdoc><p>Default constructor.<dl class=params><dt>Parameters<dd><table class=params><tr><td class=paramdir>[in]<td class=paramname>tty<td>Fl_Terminal* FLTK Terminal widget that will display the logs.</table></dl><div class=fragment><div class=line><span class=lineno>53</span>{ <a class="code hl_variable" href=classpssp_1_1ConsoleSink.html#a1009d4d5b9978950582c26bad811aa1b>tty_</a> = tty; }</div><div class=ttc id=aclasspssp_1_1ConsoleSink_html_a1009d4d5b9978950582c26bad811aa1b><div class=ttname><a href=classpssp_1_1ConsoleSink.html#a1009d4d5b9978950582c26bad811aa1b>pssp::ConsoleSink::tty_</a></div><div class=ttdeci>Fl_Terminal * tty_</div><div class=ttdoc>Message receiver (console/terminal/tty).</div><div class=ttdef><b>Definition</b> ConsoleSink.hpp:75</div></div></div></div></div><h2 class=groupheader>Member Function Documentation</h2><a id=af573151af0092823afdaf93468e4dc22></a><h2 class=memtitle><span class=permalink><a href=#af573151af0092823afdaf93468e4dc22>&#9670;&#160;</a></span>flush_()</h2><div class=memitem><div class=memproto><div class=memtemplate>template&lt;typename Mutex ></div><table class=mlabels><tr><td class=mlabels-left><table class=memname><tr><td class=memname>void <a class=el href=classpssp_1_1ConsoleSink.html>pssp::ConsoleSink</a>&lt; Mutex >::flush_<td>(<td class=paramname><td>)<td></table><td class=mlabels-right><span class=mlabels><span class=mlabel>inline</span><span class=mlabel>override</span><span class=mlabel>protected</span></span></table></div><div class=memdoc><p>Clear (flush) Fl_Terminal.<div class=fragment><div class=line><span class=lineno>72</span>{ <a class="code hl_variable" href=classpssp_1_1ConsoleSink.html#a1009d4d5b9978950582c26bad811aa1b>tty_</a>->clear(); }</div></div></div></div><a id=a6e6a9fb611cb0a7a499c1c7152612a68></a><h2 class=memtitle><span class=permalink><a href=#a6e6a9fb611cb0a7a499c1c7152612a68>&#9670;&#160;</a></span>sink_it_()</h2><div class=memitem><div class=memproto><div class=memtemplate>template&lt;typename Mutex ></div><table class=mlabels><tr><td class=mlabels-left><table class=memname><tr><td class=memname>void <a class=el href=classpssp_1_1ConsoleSink.html>pssp::ConsoleSink</a>&lt; Mutex >::sink_it_<td>(<td class=paramtype>const spdlog::details::log_msg &&#160;<td class=paramname><em>msg</em><td>)<td></table><td class=mlabels-right><span class=mlabels><span class=mlabel>inline</span><span class=mlabel>override</span><span class=mlabel>protected</span></span></table></div><div class=memdoc><p>Receives message from spdlog and then passes message to display console.<dl class=params><dt>Parameters<dd><table class=params><tr><td class=paramdir>[in]<td class=paramname>msg<td>spdlog::details::log_msg& Message to format and pass.</table></dl><div class=fragment><div class=line><span class=lineno>62</span> {</div><div class=line><span class=lineno>63</span> <span class=comment>// log_msg is a struct containing the log entry info like level, timestamp,</span></div><div class=line><span class=lineno>64</span> <span class=comment>// msg.raw contains the pre-formatted log</span></div><div class=line><span class=lineno>65</span></div><div class=line><span class=lineno>66</span> <span class=comment>// If needed (very likely, but not madatory), the sink formats the message</span></div><div class=line><span class=lineno>67</span> spdlog::memory_buf_t formatted{};</div><div class=line><span class=lineno>68</span> spdlog::sinks::base_sink&lt;Mutex>::formatter_->format(msg, formatted);</div><div class=line><span class=lineno>69</span> <a class="code hl_variable" href=classpssp_1_1ConsoleSink.html#a1009d4d5b9978950582c26bad811aa1b>tty_</a>->append(fmt::to_string(formatted).c_str());</div><div class=line><span class=lineno>70</span> }</div></div></div></div><h2 class=groupheader>Member Data Documentation</h2><a id=a1009d4d5b9978950582c26bad811aa1b></a><h2 class=memtitle><span class=permalink><a href=#a1009d4d5b9978950582c26bad811aa1b>&#9670;&#160;</a></span>tty_</h2><div class=memitem><div class=memproto><div class=memtemplate>template&lt;typename Mutex ></div><table class=mlabels><tr><td class=mlabels-left><table class=memname><tr><td class=memname>Fl_Terminal* <a class=el href=classpssp_1_1ConsoleSink.html>pssp::ConsoleSink</a>&lt; Mutex >::tty_ {}</table><td class=mlabels-right><span class=mlabels><span class=mlabel>private</span></span></table></div><div class=memdoc><p>Message receiver (console/terminal/tty).<div class=fragment><div class=line><span class=lineno>75</span>{};</div></div></div></div><hr>The documentation for this class was generated from the following file:<ul><li>include/PsSp/Logging/<b>ConsoleSink.hpp</b></ul></div></div><div id=nav-path class=navpath><ul><li class=navelem><a class=el href=namespacepssp.html>pssp</a><li class=navelem><a class=el href=classpssp_1_1ConsoleSink.html>ConsoleSink</a><li class=footer>Generated by <a href=https://www.doxygen.org/index.html><img class=footer src=doxygen.svg width=104 height=31 alt=doxygen></a> 1.9.8</ul></div>